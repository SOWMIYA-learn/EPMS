{% extends 'layout.html' %}
{% block content %}
<div class="grid md:grid-cols-3 gap-6">
  <div class="bg-white p-4 rounded shadow">
    <div class="text-sm text-gray-500">Total Patients</div>
    <div class="text-2xl font-bold text-indigo-700">{{ total }}</div>
  </div>
  <div class="bg-white p-4 rounded shadow">
    <div class="text-sm text-gray-500">By Gender</div>
    <div class="mt-2">
      {% for g,count in by_gender %}
        <div class="flex justify-between"><div>{{ g or 'Unknown' }}</div><div class="font-semibold">{{ count }}</div></div>
      {% endfor %}
    </div>
  </div>
  <div class="bg-white p-4 rounded shadow">
    <div class="text-sm text-gray-500">Recent Patients</div>
    <ul class="mt-2 space-y-2">
      {% for p in latest %}
      <li class="flex justify-between">
        <div>{{ p.name }}</div>
        <div class="text-sm text-gray-500">{{ p.patient_id }}</div>
      </li>
      {% endfor %}
    </ul>
  </div>
</div>

<div class="mt-6">
  <a href="{{ url_for('patients_table') }}" class="bg-indigo-600 text-white px-4 py-2 rounded">Manage Patients</a>
  <a href="{{ url_for('export_patients_xlsx') }}" class="ml-2 bg-green-600 text-white px-4 py-2 rounded">Export Excel</a>
</div>
{% endblock %}
